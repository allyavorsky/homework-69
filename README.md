# Homework 69 | Рефакторинг проекту MongoDB на Mongoose

Це проєкт сервера на Node.js та Express, який реалізує систему автентифікації користувачів (реєстрація, вхід, вихід) за допомогою Passport.js. Дані користувачів зберігаються у хмарній базі даних MongoDB Atlas.

## Основний функціонал

- Реєстрація нових користувачів.
- Автентифікація існуючих користувачів.
- Використання сесій для керування станом входу.
- Захищені маршрути, доступні тільки для автентифікованих користувачів.
- Отримання списку всіх зареєстрованих користувачів (тільки для залогінених).

## Встановлення та запуск

1.  **Клонуйте репозиторій:**

    ```bash
    git clone [https://github.com/allyavorsky/homework-69.git](https://github.com/allyavorsky/homework-69.git)
    cd homework-69
    ```

2.  **Встановіть залежності:**

    ```bash
    npm install
    ```

3.  **Налаштуйте змінні середовища:**

    - Створіть копію файлу `.env.example` та назвіть її `.env`.
    - Відкрийте файл `.env` та заповніть необхідні змінні:
      - `SESSION_SECRET`: Будь-який секретний рядок для підпису сесій.
      - `MONGO_URI`: Ваш рядок підключення до бази даних MongoDB Atlas.

4.  **Запустіть сервер для розробки:**
    ```bash
    npm run dev
    ```
    Сервер буде доступний за адресою `http://localhost:3000`.

## Нова функціональність: Список користувачів

Було додано новий API маршрут для отримання списку email-адрес всіх зареєстрованих користувачів.

- **URL:** `/api/users`
- **Метод:** `GET`
- **Захист:** Цей маршрут доступний тільки для автентифікованих користувачів. У разі спроби доступу без входу в систему сервер поверне помилку `401 Unauthorized`.

На клієнтській частині додано кнопку "Отримати список користувачів", яка виконує запит до цього маршруту та відображає отримані дані на сторінці.